<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Business strategy analysis tools and financial calculators">
  <title>Analysis & Tools ‚Äî Tsholo Setati</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link href="https://api.fontshare.com/v2/css?f[]=clash-display@400,500,600,700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script src="ui.js" defer></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <div id="site-header" role="banner"></div>

  <main id="main-content" class="container content-area">
    <h2>Analysis & Tools</h2>
    <p class="section-subtitle">Curated financial planning and strategic business analysis toolkit.</p>

    <!-- Category Switcher -->
    <div class="category-switcher" style="display:flex; justify-content:center; gap:20px; margin-bottom:30px;">
      <button class="btn cat-btn active" data-cat="financial-tools"><i class="ph ph-currency-dollar icon-inline"></i> Financial Planning</button>
      <button class="btn cat-btn btn-ghost" data-cat="strategic-analysis"><i class="ph ph-chart-line-up icon-inline"></i> Strategic Analysis</button>
    </div>

    <!-- === SECTION: FINANCIAL PLANNING === -->
    <div id="financial-tools" class="tool-category">

      <!-- Sub-Tabs for Financial -->
      <div class="analysis-tabs">
        <button class="tab-button active" onclick="switchFinancialTab('advisor')">ü§ñ Smart Advisor</button>
        <button class="tab-button" onclick="switchFinancialTab('calc-retirement')">üë¥ Retirement</button>
      </div>

      <!-- Financial Content -->
      <div id="advisor" class="financial-tab active">
        <section class="card">
          <h3>üí∞ Smart Financial Advisor</h3>
          <p class="muted">Get a personalized financial health assessment and investment strategy.</p>
          <form id="advisorForm" class="calculator-form">
            <div class="form-row">
              <div class="form-group"><label>Annual Income (R)</label><input type="number" id="annualIncome" required>
              </div>
              <div class="form-group"><label>Monthly Expenses (R)</label><input type="number" id="monthlyExpenses"
                  required></div>
            </div>
            <div class="form-row">
              <div class="form-group"><label>Age</label><input type="number" id="advAge" required></div>
              <div class="form-group"><label>Total Debt (R)</label><input type="number" id="currentDebt" required></div>
            </div>
            <div class="form-row">
              <div class="form-group"><label>Emergency Fund (R)</label><input type="number" id="emergencyFund" required>
              </div>
              <div class="form-group"><label>Investment Goal (Years)</label><input type="number" id="investmentGoal"
                  required></div>
            </div>
            <button type="submit" class="btn-primary">Get Assessment</button>
          </form>
          <div id="advisorResult" class="result-box"></div>
        </section>
      </div>

      <div id="calc-retirement" class="financial-tab" style="display:none;">
        <section class="card calculator-card">
          <h3>Retirement Savings Calculator</h3>
          <p class="muted">Project your savings growth over time.</p>
          <form id="retirementForm" class="calculator-form">
            <div class="form-row">
              <div class="form-group"><label>Current Age</label><input type="number" id="currentAge" required></div>
              <div class="form-group"><label>Retirement Age</label><input type="number" id="retirementAge" required>
              </div>
            </div>
            <div class="form-group"><label>Current Savings (R)</label><input type="number" id="currentSavings" required>
            </div>
            <div class="form-group"><label>Monthly Contribution (R)</label><input type="number" id="monthlyContribution"
                required></div>
            <div class="form-group"><label>Annual Return (%)</label><input type="number" step="0.01" id="annualReturn"
                required></div>
            <button type="submit" class="btn-primary">Project Savings</button>
          </form>
          <div id="retirementResult" class="result-box"></div>
        </section>
      </div>
    </div>

    <!-- === SECTION: STRATEGIC ANALYSIS === -->
    <div id="strategic-analysis" class="tool-category" style="display:none;">

      <!-- Tool Navigation Tabs -->
      <div class="analysis-tabs">
        <button class="tab-button active" onclick="switchTab('economic')">üìä Economic Dashboard</button>
        <button class="tab-button" onclick="switchTab('porter')">‚öîÔ∏è Porter's 5</button>
        <button class="tab-button" onclick="switchTab('pestel')">üåç PESTEL</button>
        <button class="tab-button" onclick="switchTab('swot')">üéØ SWOT</button>
      </div>

      <!-- 1. ECONOMIC INDICATORS DASHBOARD -->
      <div id="economic" class="tab-content active">
        <div class="card">
          <h3>üìä Economic Indicators Dashboard</h3>
          <p class="muted">Key macro indicators for the South African context.</p>
          <div class="dashboard-grid">
            <div class="indicator-card">
              <div class="indicator-label">SA Inflation</div>
              <div class="indicator-value">6.2%</div>
              <div class="indicator-meta">Year-over-year</div>
            </div>
            <div class="indicator-card">
              <div class="indicator-label">Unemployment</div>
              <div class="indicator-value">32.1%</div>
              <div class="indicator-meta">Official rate</div>
            </div>
            <div class="indicator-card">
              <div class="indicator-label">Prime Rate</div>
              <div class="indicator-value">11.75%</div>
              <div class="indicator-meta">SARB Base</div>
            </div>
            <div class="indicator-card">
              <div class="indicator-label">ZAR/USD</div>
              <div class="indicator-value">18.50</div>
              <div class="indicator-meta">Spot rate</div>
            </div>
          </div>
          <div class="economic-insight">
            <h4>üìà Snapshot</h4>
            <p>Moderate expansion despite volatility. Inflation stabilizing.</p>
          </div>
        </div>
      </div>

      <!-- 2. PORTER'S 5 FORCES -->
      <div id="porter" class="tab-content">
        <div class="card">
          <h3>‚öîÔ∏è Porter's 5 Forces</h3>
          <form id="porterForm" class="analysis-form">
            <div class="form-grid-2">
              <div class="form-group"><label>Supplier Power (1-5)</label><input type="range" id="suppliers" min="1"
                  max="5" value="3" class="slider"><span id="suppliersValue">3</span></div>
              <div class="form-group"><label>Buyer Power (1-5)</label><input type="range" id="buyers" min="1" max="5"
                  value="3" class="slider"><span id="buyersValue">3</span></div>
              <div class="form-group"><label>Substitutes (1-5)</label><input type="range" id="substitutes" min="1"
                  max="5" value="3" class="slider"><span id="substitutesValue">3</span></div>
              <div class="form-group"><label>New Entrants (1-5)</label><input type="range" id="entrants" min="1" max="5"
                  value="3" class="slider"><span id="entrantsValue">3</span></div>
              <div class="form-group"><label>Rivalry (1-5)</label><input type="range" id="rivalry" min="1" max="5"
                  value="3" class="slider"><span id="rivalryValue">3</span></div>
            </div>
            <button type="submit" class="btn-primary">Analyze</button>
          </form>
          <div id="porterResult" class="result-box" style="display:none;">
            <h4>Attractiveness Score</h4>
            <div class="score" id="porterScore"></div>
            <div id="porterBreakdown"></div>
          </div>
        </div>
      </div>

      <!-- 3. PESTEL -->
      <div id="pestel" class="tab-content">
        <div class="card">
          <h3>üåç PESTEL Analysis</h3>
          <form id="pestelForm" class="analysis-form">
            <div class="pestel-grid">
              <div class="pestel-factor">
                <h4>Political</h4><textarea></textarea><select class="impact-select">
                  <option>Medium</option>
                  <option>High</option>
                  <option>Low</option>
                </select>
              </div>
              <div class="pestel-factor">
                <h4>Economic</h4><textarea></textarea><select class="impact-select">
                  <option>Medium</option>
                  <option>High</option>
                  <option>Low</option>
                </select>
              </div>
              <div class="pestel-factor">
                <h4>Social</h4><textarea></textarea><select class="impact-select">
                  <option>Medium</option>
                  <option>High</option>
                  <option>Low</option>
                </select>
              </div>
              <div class="pestel-factor">
                <h4>Technological</h4><textarea></textarea><select class="impact-select">
                  <option>Medium</option>
                  <option>High</option>
                  <option>Low</option>
                </select>
              </div>
              <div class="pestel-factor">
                <h4>Environmental</h4><textarea></textarea><select class="impact-select">
                  <option>Medium</option>
                  <option>High</option>
                  <option>Low</option>
                </select>
              </div>
              <div class="pestel-factor">
                <h4>Legal</h4><textarea></textarea><select class="impact-select">
                  <option>Medium</option>
                  <option>High</option>
                  <option>Low</option>
                </select>
              </div>
            </div>
            <button type="submit" class="btn-primary">Generate Report</button>
          </form>
          <div id="pestelResult" class="result-box" style="display:none;">
            <div id="pestelBreakdown"></div>
          </div>
        </div>
      </div>

      <!-- 4. SWOT -->
      <div id="swot" class="tab-content">
        <div class="card">
          <h3>üéØ SWOT Analysis</h3>
          <form id="swotForm" class="analysis-form">
            <div class="swot-grid">
              <div class="swot-section positive">
                <h4>Strengths</h4><textarea id="strengths" rows="4"></textarea>
              </div>
              <div class="swot-section negative">
                <h4>Weaknesses</h4><textarea id="weaknesses" rows="4"></textarea>
              </div>
              <div class="swot-section positive">
                <h4>Opportunities</h4><textarea id="opportunities" rows="4"></textarea>
              </div>
              <div class="swot-section negative">
                <h4>Threats</h4><textarea id="threats" rows="4"></textarea>
              </div>
            </div>
            <button type="submit" class="btn-primary">Generate Matrix</button>
          </form>
          <div id="swotResult" class="result-box" style="display:none;">
            <div id="swotBreakdown"></div>
          </div>
        </div>
      </div>

    </div>
  </main>

  <div id="site-footer" role="contentinfo"></div>
  <script src="stock-data.js"></script>
  <script src="script.js"></script>
  <script src="analysis-tools.js"></script>

  <script>
    // Category Switcher Logic
    document.addEventListener('DOMContentLoaded', () => {
      const catBtns = document.querySelectorAll('.cat-btn');
      const cats = document.querySelectorAll('.tool-category');

      catBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          catBtns.forEach(b => {
            b.classList.remove('active');
            b.classList.add('btn-ghost');
          });
          btn.classList.add('active');
          btn.classList.remove('btn-ghost');

          const target = btn.dataset.cat;
          cats.forEach(c => {
            c.style.display = c.id === target ? 'block' : 'none';
          });
        });
      });
    });

    // Sub-tab logic for Financial Tools
    function switchFinancialTab(tabId) {
      document.querySelectorAll('#financial-tools .financial-tab').forEach(el => el.style.display = 'none');
      document.querySelectorAll('#financial-tools .financial-tab').forEach(el => el.classList.remove('active'));

      const target = document.getElementById(tabId);
      if (target) {
        target.style.display = 'block';
        target.classList.add('active');
      }

      document.querySelectorAll('#financial-tools .tab-button').forEach(btn => {
        btn.classList.remove('active');
        if (btn.getAttribute('onclick').includes(tabId)) btn.classList.add('active');
      });
    }
  </script>
</body>

</html>